# =============================================================================
# PUBLIC .htaccess - Front Controller
# =============================================================================
# Gerçek dosya/dizin varsa sun, yoksa index.php'ye gönder
# =============================================================================

Options -Indexes -MultiViews

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # =========================================================================
    # RewriteBase / - KRİTİK!
    # Per-directory context'te RewriteBase her zaman / olmalı
    # Aksi halde /public/public/... gibi yanlış path oluşur
    # =========================================================================
    RewriteBase /

    # =========================================================================
    # GERÇEK DOSYA/DİZİN VARSA DOĞRUDAN SUN
    # =========================================================================
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule ^ - [L]

    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # =========================================================================
    # FRONT CONTROLLER: Diğer istekler → index.php
    # =========================================================================
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

# =========================================================================
# GÜVENLİK
# =========================================================================
<FilesMatch "^\.">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order deny,allow
        Deny from all
    </IfModule>
</FilesMatch>
